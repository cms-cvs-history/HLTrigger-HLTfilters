//
// cfg file to run on L1 GMT + GCT + GT output file
//
    
process TestHLTLevel1GTSeed = {

    // source file: L1 GT produced file, with GMT and GCT records included 
    source = PoolSource {
        untracked vstring fileNames = {
            'file:/afs/cern.ch/user/g/ghete/scratch0/CmsswTestFiles/test_HLTLevel1GTSeed_source.root'
        }
    }   

    untracked PSet maxEvents = { untracked int32 input = 10 }

    // load and configure modules
   
    // Emulator configuration
    // select one of the two lines below
    // By default (17X) take configuration from dummy producers

    include "L1Trigger/Configuration/data/L1DummyConfig.cff"
    //include "L1Trigger/Configuration/data/L1DBConfig.cff"
    
    
    // L1 GT EventSetup (needed for <= 1_7_0_pre3) >>>
    include "L1TriggerConfig/L1GtConfigProducers/data/L1GtConfig.cff"
    replace L1GtPrescaleFactorsRcdSource.iovIsRunNotTime = false
    replace L1GtTriggerMaskRcdSource.iovIsRunNotTime = false
    replace L1GtParametersRcdSource.iovIsRunNotTime = false
    replace L1GtBoardMapsRcdSource.iovIsRunNotTime = false
	// <<<
	
	
    // WARNING: use always the same prescale factors and trigger mask for this module
    //          and the modules used to obtain the input file 
    //          (which is a L1 GMT + GCT + GT output file)!
    // uprescaled menu - change prescale factors to 1 (except MinBias and ZeroBias)
    //include "L1TriggerConfig/L1GtConfigProducers/data/L1GtFactorsUnprescale.cff"
        
    // Geometry - to be revised
    include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"
    include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi"
    
    //
    //     L1 Extra
    //
    
    include "L1Trigger/L1ExtraFromDigis/data/l1extraParticles.cff"

    //
    //     HLTLevel1GTSeed
    //
    
    include "HLTrigger/HLTfilters/data/hltLevel1GTSeed.cfi"

    // logical expression for the required L1 algorithms;
    // the algorithms are specified by name
    // allowed operators: "AND", "OR", "NOT", "(", ")"
    // 
    replace hltLevel1GTSeed.L1SeedsLogicalExpression = 
        //"L1_SingleEG15"
        //"NOT L1_SingleEG15"
        "L1_SingleEG15 AND L1_HTT250"
        //"L1_SingleEG15 AND (L1_HTT250 AND NOT L1_SingleMu3)"
        //"(L1_SingleEG15 OR L1_QuadJet30) AND (L1_HTT250 AND NOT L1_SingleMu3)"
        //"(L1_SingleEG15 OR L1_QuadJet30) AND ((L1_HTT250 AND NOT L1_SingleMu3) OR NOT L1_SingleMu20")
        
        // "Single_Egamma"
        // "NOT Single_Egamma"
        // "Single_Egamma AND H_T"
        // "Single_Egamma AND (H_T AND NOT Muon8)"
        //"(Single_Egamma OR Egamma08) AND NOT H_T AND NOT (Muon8 AND SingleJet20)"

    // InputTag for the L1 Global Trigger DAQ readout record
    //   GT Emulator = l1GtEmulDigis (default)
    //   GT Unpacker = l1GtUnpack
    //
    //replace hltLevel1GTSeed.L1GtReadoutRecordTag = l1GtUnpack

    // InputTag for L1 Global Trigger object maps
    //   only the emulator produces the object maps
    //   GT Emulator = l1GtEmulDigis (default)
    //
    //replace hltLevel1GTSeed.L1GtObjectMapTag = l1GtEmulDigis

    // InputTag for L1 particle collections
    //   L1 Extra = l1extraParticles (default)
    //
    //replace hltLevel1GTSeed.L1CollectionsTag = l1extraParticles
    

    // module list
    path p = { l1extraParticles, hltLevel1GTSeed }

    // uncomment / comment messages with DEBUG mode to run in DEBUG mode
    service = MessageLogger {

      untracked vstring destinations =  {"test_HLTLevel1GTSeed"}
      untracked PSet test_HLTLevel1GTSeed = { 
          untracked string threshold = "DEBUG"                  // DEBUG mode 
          untracked PSet DEBUG = { untracked int32 limit = -1}  // DEBUG mode, all messages  
          //untracked PSet DEBUG = { untracked int32 limit = 10}  // DEBUG mode, max 10 messages  
          //untracked PSet INFO = { untracked int32 limit = -1}    
      }
      untracked vstring debugModules = { "hltLevel1GTSeed"}          // DEBUG mode 
      
    }
        
    module outputHltLevel1GTSeed = PoolOutputModule { 
        untracked string fileName = "test_HLTLevel1GTSeed_output.root" 
    }
    
    endpath outpath = { outputHltLevel1GTSeed }
    
        
}