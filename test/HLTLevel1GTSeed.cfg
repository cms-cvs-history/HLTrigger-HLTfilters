//
// cfg file to run on L1 GMT + GCT + GT output file
//
    
process TestHLTLevel1GTSeed = {

    // source file: L1 GT produced file, with GMT and GCT records included 
    source = PoolSource {
        untracked vstring fileNames = {
            'file:/afs/cern.ch/user/g/ghete/scratch0/CmsswTestFiles/test_HLTLevel1GTSeed_source.root'
        }
    }   

    untracked PSet maxEvents = { untracked int32 input = 10 }

    // load and configure modules
   
    // TODO to be revised
    include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"
    include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi"
    
    include "L1TriggerConfig/L1ScalesProducers/data/L1MuTriggerScalesConfig.cff"
    include "L1TriggerConfig/GctConfigProducers/data/L1GctConfig.cff"
    include "L1TriggerConfig/L1ScalesProducers/data/L1CaloScalesConfig.cff"
    
    //
    //     L1 Extra
    //
    
    include "L1Trigger/L1ExtraFromDigis/data/l1extraParticles.cff"

    //
    //     HLTLevel1GTSeed
    //
    
    include "HLTrigger/HLTfilters/data/hltLevel1GTSeed.cfi"

    // logical expression for the required L1 algorithms;
    // the algorithms are specified by name
    // allowed operators: "AND", "OR", "NOT", "(", ")"
    // 
    replace hltLevel1GTSeed.L1SeedsLogicalExpression = 
        // "Single_Egamma"
        // "NOT Single_Egamma"
        // "Single_Egamma AND H_T"
        // "Single_Egamma AND (H_T AND NOT Muon8)"
        "(Single_Egamma OR Egamma08) AND NOT H_T AND NOT (Muon8 AND SingleJet20)"

    // InputTag for the L1 Global Trigger DAQ readout record
    //   GT Emulator = l1GtEmulDigis (default)
    //   GT Unpacker = l1GtUnpack
    //
    //replace hltLevel1GTSeed.L1GtReadoutRecordTag = l1GtUnpack

    // InputTag for L1 Global Trigger object maps
    //   only the emulator produces the object maps
    //   GT Emulator = l1GtEmulDigis (default)
    //
    //replace hltLevel1GTSeed.L1GtObjectMapTag = l1GtEmulDigis

    // InputTag for L1 particle collections
    //   L1 Extra = l1extraParticles (default)
    //
    //replace hltLevel1GTSeed.L1CollectionsTag = l1extraParticles
    

    // module list
    path p = { l1extraParticles, hltLevel1GTSeed }

    // uncomment / comment messages with DEBUG mode to run in DEBUG mode
    service = MessageLogger {

      untracked vstring destinations =  {"test_HLTLevel1GTSeed"}
      untracked PSet test_HLTLevel1GTSeed = { 
          untracked string threshold = "DEBUG"                  // DEBUG mode 
          untracked PSet DEBUG = { untracked int32 limit = -1}  // DEBUG mode, all messages  
          //untracked PSet DEBUG = { untracked int32 limit = 10}  // DEBUG mode, max 10 messages  
          //untracked PSet INFO = { untracked int32 limit = -1}    
      }
      untracked vstring debugModules = { "hltLevel1GTSeed"}          // DEBUG mode 
      
    }
        
    module outputHltLevel1GTSeed = PoolOutputModule { 
        untracked string fileName = "test_HLTLevel1GTSeed_output.root" 
    }
    
    endpath outpath = { outputHltLevel1GTSeed }
    
        
}