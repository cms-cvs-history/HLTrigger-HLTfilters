//
// cfg file to run on L1 GMT + GCT + GT output file
//
    
process TestHLTLevel1GTSeed = {

    // source file: L1 GT produced file, with GMT and GCT records included 
    source = PoolSource {
        untracked vstring fileNames = {
            'file:/afs/cern.ch/user/g/ghete/scratch0/CmsswTestFiles/test_HLTLevel1GTSeed_source.root'
        }
    }   

    untracked PSet maxEvents = { untracked int32 input = -1 }

    // load and configure modules
   
    // Emulator configuration
    // select one of the two lines below
    // By default (17X) take configuration from dummy producers

    include "L1Trigger/Configuration/data/L1DummyConfig.cff"
    //include "L1Trigger/Configuration/data/L1DBConfig.cff"
    
    
    // WARNING: use always the same prescale factors and trigger mask for this module
    //          and the modules used to obtain the input file 
    //          (which is a L1 GMT + GCT + GT output file)!
    // uprescaled menu - change prescale factors to 1 (except MinBias and ZeroBias)
    //include "L1TriggerConfig/L1GtConfigProducers/data/Luminosity/lumi1x1032/L1Menu2007_Unprescaled.cff"
        
    // Geometry - to be revised
    include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"
    include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi"
    
    //
    //     L1 Extra
    //
    
    include "L1Trigger/L1ExtraFromDigis/data/l1extraParticles.cff"

    //
    //     HLTLevel1GTSeed
    //
    
    include "HLTrigger/HLTfilters/data/hltLevel1GTSeed.cfi"

    // seeding done via technical trigger bits, if value is "true";
    // default: false (seeding via physics algorithms)
    //replace hltLevel1GTSeed.L1TechTriggerSeeding = true

    // logical expression for the required L1 algorithms;
    // the algorithms are specified by name
    // allowed operators: "AND", "OR", "NOT", "(", ")"
    // 
    replace hltLevel1GTSeed.L1SeedsLogicalExpression = 
        //"L1_SingleEG15"
        "L1_HTT250 OR L1_HTT300 OR L1_SingleEG15"
        //"NOT L1_SingleEG15"
        //"L1_ZeroBias"
        //"L1_SingleEG15 AND L1_HTT300"
        //"L1_SingleEG15 AND (L1_HTT300 AND NOT L1_SingleMu7)"
        //"(L1_SingleEG15 OR L1_QuadJet40) AND (L1_HTT300 AND NOT L1_SingleMu7)"
        //"(L1_SingleEG15 OR L1_QuadJet40) AND ((L1_HTT300 AND NOT L1_SingleMu7) OR NOT L1_SingleMu20)"
        
    // for technical triggers, one specifies by bit number        
    //replace hltLevel1GTSeed.L1SeedsLogicalExpression = 
    //    "1 AND 15 AND NOT (29 OR 55)"

    // InputTag for the L1 Global Trigger DAQ readout record
    //   GT Emulator = gtDigis (default)
    //   GT Unpacker = l1GtUnpack
    //
    //replace hltLevel1GTSeed.L1GtReadoutRecordTag = l1GtEmulDigis

    // InputTag for L1 Global Trigger object maps
    //   only the emulator produces the object maps
    //   GT Emulator = gtDigis
    //   cloned GT emulator in HLT = l1GtObjectMap (default)
    replace hltLevel1GTSeed.L1GtObjectMapTag = gtDigis

    // InputTag for L1 particle collections
    //   L1 Extra = l1extraParticles (default)
    //
    //replace hltLevel1GTSeed.L1CollectionsTag = l1extraParticles

    // InputTag for L1 muon collection
    //   L1 Extra = l1extraParticles (default)
    //   Fast simulation = l1ParamMuons
    //replace hltLevel1GTSeed.L1MuonCollectionTag = l1ParamMuons
    

    // module list
    path p = { l1extraParticles, hltLevel1GTSeed }

    // uncomment / comment messages with DEBUG mode to run in DEBUG mode
    service = MessageLogger {

      untracked vstring destinations =  {"test_HLTLevel1GTSeed"}
      untracked PSet test_HLTLevel1GTSeed = { 
          //untracked string threshold = "DEBUG"                  // DEBUG mode 
          //untracked PSet DEBUG = { untracked int32 limit = -1}  // DEBUG mode, all messages  
          //untracked PSet DEBUG = { untracked int32 limit = 10}  // DEBUG mode, max 10 messages  
          untracked PSet INFO = { untracked int32 limit = -1}    
      }
      //untracked vstring debugModules = { "hltLevel1GTSeed"}          // DEBUG mode 
      
    }
        
    //module outputHltLevel1GTSeed = PoolOutputModule { 
    //    untracked string fileName = "test_HLTLevel1GTSeed_output.root" 
    //}
    
    //endpath outpath = { outputHltLevel1GTSeed }
    
        
}